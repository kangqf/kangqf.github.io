<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[kblog]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://kangqingfei.cn/"/>
  <updated>2015-12-30T11:56:07.000Z</updated>
  <id>http://kangqingfei.cn/</id>
  
  <author>
    <name><![CDATA[kangqingfei]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[use markdown]]></title>
    <link href="http://kangqingfei.cn/2015/12/30/use-markdown/"/>
    <id>http://kangqingfei.cn/2015/12/30/use-markdown/</id>
    <published>2015-12-30T10:41:53.000Z</published>
    <updated>2015-12-30T11:56:07.000Z</updated>
    <content type="html"><![CDATA[<h3 id="u5C06_u535A_u5BA2_u4ECEjekyll_u8FC1_u79FB_u5230hexo_u90FD_u8FD8_u7B97_u987A_u5229_uFF0C_u552F_u4E00_u8BA9_u4EBA_u6709_u70B9_u607C_u706B_u7684_u5C31_u662Fmarkdown_u7684_u8BED_u6CD5_u4E0D_u4E00_u81F4_u4E86_uFF08hexo_u8C8C_u4F3C_u6CA1_u90A3_u4E48_u4EFB_u6027_uFF09_uFF0C_u6240_u4EE5_u719F_u6089_u4E00_u4E0Bhexo_u4E0B_u7684markdown_u8BED_u6CD5_uFF0C_u987A_u4FBF_u590D_u4E60_u4E00_u4E0B_u3002_u4E3B_u8981_u662F_u53C2_u8003http_3A//www-appinn-com/markdown/_uFF0C_u628A_u4E00_u4E9B_u5E38_u7528_u7684_u8BB0_u5F55_u4E86_u4E00_u4E0B_u3002"><a href="#u5C06_u535A_u5BA2_u4ECEjekyll_u8FC1_u79FB_u5230hexo_u90FD_u8FD8_u7B97_u987A_u5229_uFF0C_u552F_u4E00_u8BA9_u4EBA_u6709_u70B9_u607C_u706B_u7684_u5C31_u662Fmarkdown_u7684_u8BED_u6CD5_u4E0D_u4E00_u81F4_u4E86_uFF08hexo_u8C8C_u4F3C_u6CA1_u90A3_u4E48_u4EFB_u6027_uFF09_uFF0C_u6240_u4EE5_u719F_u6089_u4E00_u4E0Bhexo_u4E0B_u7684markdown_u8BED_u6CD5_uFF0C_u987A_u4FBF_u590D_u4E60_u4E00_u4E0B_u3002_u4E3B_u8981_u662F_u53C2_u8003http_3A//www-appinn-com/markdown/_uFF0C_u628A_u4E00_u4E9B_u5E38_u7528_u7684_u8BB0_u5F55_u4E86_u4E00_u4E0B_u3002" class="headerlink" title="将博客从jekyll迁移到hexo都还算顺利，唯一让人有点恼火的就是markdown的语法不一致了（hexo貌似没那么任性），所以熟悉一下hexo下的markdown语法，顺便复习一下。主要是参考http://www.appinn.com/markdown/，把一些常用的记录了一下。"></a>将博客从<code>jekyll</code>迁移到<code>hexo</code>都还算顺利，唯一让人有点恼火的就是<code>markdown</code>的语法不一致了（hexo貌似没那么任性），所以熟悉一下<code>hexo</code>下的<code>markdown</code>语法，顺便复习一下。主要是参考<a href="http://www.appinn.com/markdown/" title="参考网址" target="_blank" rel="external">http://www.appinn.com/markdown/</a>，把一些常用的记录了一下。</h3><ol>
<li><p>标题 使用 1-6 个 <code>#</code>，对应一级标题到六级标题。</p>
<blockquote>
<h1 id="u4E00_u7EA7_u6807_u9898"><a href="#u4E00_u7EA7_u6807_u9898" class="headerlink" title="一级标题"></a>一级标题</h1><h6 id="u516D_u7EA7_u6807_u9898"><a href="#u516D_u7EA7_u6807_u9898" class="headerlink" title="六级标题"></a>六级标题</h6></blockquote>
</li>
<li><p>列表 使用 <code>*</code>或<code>+</code>或<code>-</code>对应无序列表，使用<code>n.</code>来表示有序列表，列表标记上使用的数字并不会影响输出的 HTML 结果。列表项目包含多个段落，每个项目下的段落都必须缩进 4 个空格或是 1 个制表符。列表项目内放进引用，那 <code>&gt;</code> 就需要缩进。</p>
<blockquote>
<ul>
<li>无序列表</li>
<li>无序列表</li>
</ul>
<ol>
<li>有序列表</li>
<li>列表段落<br>列表段落</li>
<li><blockquote>
<p>列表中的引用</p>
</blockquote>
</li>
<li>code block in list</li>
</ol>
</blockquote>
</li>
<li><p>区块引用，使用 <code>&gt;</code> 来进行区块引用由于区块应用可以与本身和其他元素嵌套，只要根据层次加上不同数量的 <code>&gt;</code> 所以感觉很好用，例如这里就是用的区块嵌套以在演示和源文件之间保持更好的排版。</p>
</li>
<li>代码区块，缩进 4 个空格或是 1 个制表符。</li>
<li><p>分割线，使用三个或以上的<code>*</code>、<code>-</code>、<code>_</code>来表示一条分割线。</p>
<blockquote>
<hr>
<hr>
<hr>
</blockquote>
</li>
<li><p>使用<code>[text](url &quot;title&quot;)</code>来表示一个链接。</p>
<blockquote>
<p><a href="http://kangqingfei.cn/" title="kblog">an example link to kblog</a></p>
</blockquote>
</li>
<li><p>强调，使用<code>**text**</code>或<code>_text_</code>来表示强调，一个斜体两个加粗。</p>
<blockquote>
<p><strong>这是一个强调加粗</strong><br><em>这是强调斜体</em></p>
</blockquote>
</li>
<li><p>代码，使用反引号来表示一小段代码。</p>
</li>
<li><code>![Alt text](/path/to/img.jpg)</code>来插入一张图片。</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<h3 id="u5C06_u535A_u5BA2_u4ECEjekyll_u8FC1_u79FB_u5230hexo_u90FD_u8FD8_u7B97_u987A_u5229_uFF0C_u552F_u4E00_u8BA9_u4EBA_u6709_u70B9_u607C_u7]]>
    </summary>
    
      <category term="hexo" scheme="http://kangqingfei.cn/tags/hexo/"/>
    
      <category term="markdown" scheme="http://kangqingfei.cn/tags/markdown/"/>
    
      <category term="tips" scheme="http://kangqingfei.cn/categories/tips/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[from jekyll to hexo]]></title>
    <link href="http://kangqingfei.cn/2015/12/30/from-jekyll-to-hexo/"/>
    <id>http://kangqingfei.cn/2015/12/30/from-jekyll-to-hexo/</id>
    <published>2015-12-30T08:17:53.000Z</published>
    <updated>2015-12-30T15:49:14.000Z</updated>
    <content type="html"><![CDATA[<h4 id="u4E0A_u9762_u5199_u4E86_u4E00_u7BC7_u6587_u7AE0_uFF0C_u611F_u89C9_u771F_u662F_u4E11_u7206_u4E86_uFF0C_u5185_u5BB9_u81ED_uFF0C_u754C_u9762_u4E11_uFF0C_u8FD8_u4E0D_u662F_u5F88_u9002_u914D_u624B_u673A_uFF0C_u6240_u4EE5_u5C31_u5F88_u607C_u706B_uFF0C_u8FD9_u65F6_u53D1_u73B0_u4E00_u4E2A_u5F88_u4E0D_u9519_u7684_u57FA_u4E8E_hexo_u7684_u4E3B_u9898yilia_uFF0C_u611F_u89C9_u53EF_u4EE5_u6709_u3002_u5176_u5B9E_u4E4B_u524D_u5C31_u542C_u8FC7_hexo_u7684_u5927_u540D_uFF0C_u53EA_u662F_u6CA1_u60F3_u5230_u6BD4_u60F3_u8C61_u4E2D_u7684_u8FD8_u597D_u73A9_uFF0C_u5BF9_u6BD4_u4E4B_u4E0B_uFF0Cjekyll_u76F8_u5F53_u4E8E_u628A_u4F60_u7684markdown_u653E_u5230_u4E86github_u7136_u540E_u8BA9_u5B83_u7ED9_u4F60_u7F16_u8BD1_uFF0C_u800Chexo_u5219_u662F_u628A_u4F60_u7684markdown_u7F16_u8BD1_u6210html_u540E_u53D1_u5E03_u5230github_uFF0C_u66F4_u91CD_u8981_u7684_u662F_u4EBA_u5BB6_u57FA_u4E8Enode_uFF0C_u53EF_u6269_u5C55_u5F3A_uFF0C_u4E0D_u7528_u90A3_u4E48_u70E6_u4E5F_u4E0D_u4F1A_u8001_u51FA_u95EE_u9898_uFF0C_u914D_u7F6E_u4E5F_u662F_u7B80_u5355_uFF0C_u91CD_u8981_u7684_u662F_u4EBA_u5BB6_u989C_u503C_u9AD8_u554A_uFF0C_u7136_u540E_u8FD8_u6709_u4EE5_u4E0B_u51E0_u70B9_u8BA9_u6211_u5F88_u5FC3_u52A8_uFF1A"><a href="#u4E0A_u9762_u5199_u4E86_u4E00_u7BC7_u6587_u7AE0_uFF0C_u611F_u89C9_u771F_u662F_u4E11_u7206_u4E86_uFF0C_u5185_u5BB9_u81ED_uFF0C_u754C_u9762_u4E11_uFF0C_u8FD8_u4E0D_u662F_u5F88_u9002_u914D_u624B_u673A_uFF0C_u6240_u4EE5_u5C31_u5F88_u607C_u706B_uFF0C_u8FD9_u65F6_u53D1_u73B0_u4E00_u4E2A_u5F88_u4E0D_u9519_u7684_u57FA_u4E8E_hexo_u7684_u4E3B_u9898yilia_uFF0C_u611F_u89C9_u53EF_u4EE5_u6709_u3002_u5176_u5B9E_u4E4B_u524D_u5C31_u542C_u8FC7_hexo_u7684_u5927_u540D_uFF0C_u53EA_u662F_u6CA1_u60F3_u5230_u6BD4_u60F3_u8C61_u4E2D_u7684_u8FD8_u597D_u73A9_uFF0C_u5BF9_u6BD4_u4E4B_u4E0B_uFF0Cjekyll_u76F8_u5F53_u4E8E_u628A_u4F60_u7684markdown_u653E_u5230_u4E86github_u7136_u540E_u8BA9_u5B83_u7ED9_u4F60_u7F16_u8BD1_uFF0C_u800Chexo_u5219_u662F_u628A_u4F60_u7684markdown_u7F16_u8BD1_u6210html_u540E_u53D1_u5E03_u5230github_uFF0C_u66F4_u91CD_u8981_u7684_u662F_u4EBA_u5BB6_u57FA_u4E8Enode_uFF0C_u53EF_u6269_u5C55_u5F3A_uFF0C_u4E0D_u7528_u90A3_u4E48_u70E6_u4E5F_u4E0D_u4F1A_u8001_u51FA_u95EE_u9898_uFF0C_u914D_u7F6E_u4E5F_u662F_u7B80_u5355_uFF0C_u91CD_u8981_u7684_u662F_u4EBA_u5BB6_u989C_u503C_u9AD8_u554A_uFF0C_u7136_u540E_u8FD8_u6709_u4EE5_u4E0B_u51E0_u70B9_u8BA9_u6211_u5F88_u5FC3_u52A8_uFF1A" class="headerlink" title="上面写了一篇文章，感觉真是丑爆了，内容臭，界面丑，还不是很适配手机，所以就很恼火，这时发现一个很不错的基于 hexo的主题yilia，感觉可以有。其实之前就听过 hexo的大名，只是没想到比想象中的还好玩，对比之下，jekyll相当于把你的markdown放到了github然后让它给你编译，而hexo则是把你的markdown编译成html后发布到github，更重要的是人家基于node，可扩展强，不用那么烦也不会老出问题，配置也是简单，重要的是人家颜值高啊，然后还有以下几点让我很心动："></a>上面写了一篇文章，感觉真是丑爆了，内容臭，界面丑，还不是很适配手机，所以就很恼火，这时发现一个很不错的基于 <a href="https://hexo.io/" target="_blank" rel="external">hexo</a>的主题<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">yilia</a>，感觉可以有。其实之前就听过 <code>hexo</code>的大名，只是没想到比想象中的还好玩，对比之下，jekyll相当于把你的markdown放到了github然后让它给你编译，而hexo则是把你的markdown编译成html后发布到github，更重要的是人家基于node，可扩展强，不用那么烦也不会老出问题，配置也是简单，重要的是人家颜值高啊，然后还有以下几点让我很心动：</h4><ul>
<li>自动生成rss，我都不记得当时是怎么搞的jekyll才让它弄成了rss，反正是很烦。</li>
<li>看到有七牛的图片外链插件，你懂得github的速度，有了外链妈妈再也不怕我放图片了。</li>
<li>可以引用代码文件，这个之前不知道在jekyll里是不是有这个功能。</li>
<li>无痛迁移，可以从jekyll无痛迁移到hexo，虽然以前没有写多少东西，但是这就是人家的态度很端正啊。<h3 id="u6240_u4EE5_u679C_u65AD_u6362_u4E86_u3002_u90A3_u5C31_u8BA9_u6211_u4EEC_u4E00_u6B65_u6B65_u5730_u6765_u642D_u5EFA_u6211_u4EEC_u7684hexo_blog_u5427_u3002"><a href="#u6240_u4EE5_u679C_u65AD_u6362_u4E86_u3002_u90A3_u5C31_u8BA9_u6211_u4EEC_u4E00_u6B65_u6B65_u5730_u6765_u642D_u5EFA_u6211_u4EEC_u7684hexo_blog_u5427_u3002" class="headerlink" title="所以果断换了。那就让我们一步步地来搭建我们的hexo blog吧。"></a>所以果断换了。那就让我们一步步地来搭建我们的hexo blog吧。</h3></li>
</ul>
<ol>
<li><p>准备工作，首先你要装好node，怎么装就自己去找了，这里提醒一点，就是以前（考研之前）我玩node的时候装插件是很慢的，但是这次我不知道咋地速度杠杠的，我怀疑是npm的配置问题，因为以前好像是配置过npm的源，我在win下输，<code>npm</code> 会出现</p>
<blockquote>
<blockquote>
<p>Specify configs in the ini-formatted file:<br>  C:\Users\kqf\.npmrc</p>
</blockquote>
<p>然后我看了一下那个文件，是这样的</p>
<blockquote>
<p>prefix=c:\ProgramFiles\nodejs\gnode_modules<br>registry=<a href="http://r.cnpmjs.org" target="_blank" rel="external">http://r.cnpmjs.org</a></p>
</blockquote>
<p>并且我还差异的发现有个<code>C:\Users\kqf\.cnpmrc</code>，才想起来好像装过cnpm（刚推广那会儿装的），反正是好久之前弄得了，我记得当时速度还是很慢，不知道为啥现在这么快了，毕竟过去这么久了，咋们的基础设施肯定要跟上来啊，不然哪有那么多人学node。反正现在速度是没有问题的了，大家可以去官网看看<a href="http://cnpmjs.org/" target="_blank" rel="external">http://cnpmjs.org/</a>或者淘宝的镜像<a href="https://npm.taobao.org/" target="_blank" rel="external">https://npm.taobao.org/</a>。</p>
</blockquote>
</li>
<li><p>安装一个博客，搞好上面的后就可以<code>npm install hexo-cli -g</code>安装一个hexo，然后建立一个博客，<code>hexo init blog</code>，安装模块<code>cd blog</code> <code>npm install</code> 然后选取一个主题，我的是之前提过的<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">yilia</a>,所以<code>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</code>,修改hexo根目录下的 <code>_config.yml</code> -&gt; <code>theme: yilia</code>，然后再<code>hexo server(hexo s)</code>你就能看到一个博客了。</p>
</li>
<li><p>安装插件，我们先要对博客进行配置，再对主题进行配置。考虑到其中还要对插件进行配置所以索性先把用到的几个插件装上,<code>npm install hexo-generator-feed hexo-generator-sitemap hexo-pdf hexo-qiniu-sync --save</code></p>
<blockquote>
<p><a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="external">hexo-generator-feed</a>     -&gt;生成rss<br><a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="external">hexo-generator-sitemap</a>  -&gt;生成sitemap<br><a href="https://github.com/superalsrk/hexo-pdf/" target="_blank" rel="external">hexo-pdf</a>                 -&gt;嵌入pdf<br><a href="https://github.com/gyk001/hexo-qiniu-sync" target="_blank" rel="external">hexo-qiniu-sync</a>          -&gt;插入图片外链，并且同步你的文件到七牛云</p>
</blockquote>
</li>
<li><p>然后开始配置，具体细节我就不说了，主要是配一些基本信息还有插件信息还有<code>deploy（使用ssh而不是http）</code>的信息。我把我的配置文件拿上来给参考一下<a href="http://kangqingfei.qiniudn.com/blog%2Fcodes%2Fconfigs%2Fhexo_config.yml" target="_blank" rel="external">hexo_config.yml</a> ，下面主要说几个坑</p>
<blockquote>
<p><code>language: zh-Hans</code>  这个语言一开始看官网的doc直接就填了zh 后面发现貌似中文变成繁体的了（估计开发者是台湾人的缘故），之后看到<code>themes\yilia\languages\zh-Hans.yml</code>才知道该填这个。<br><code>code_dir: assest/codes</code>  这里要改成你存放代码的路径要不然后面会不能从文件引入代码块。<br><code>new_post_name: :year-:month-:day-:title.md</code> 这里改成这个一是为了搞清楚文章发表的时间，而是为了从jekyll迁移的时候不出错，原话如下</p>
<blockquote>
<p>Move all files in the Jekyll _posts folder to the source/_posts folder.<br>Modify the new_post_name setting in _config.yml:<br>new_post_name: :year-:month-:day-:title.md</p>
</blockquote>
<p><code>local_dir: source/assest</code> 这是七牛那个插件的配置，记得前面不能有<code>/</code>不然会出错，在这卡了好久。<br> 其他倒没啥了，就是<strong>rss和sitemap一直生成不了</strong>后来找到一个解决方案<code>hexo d -g</code>就有了。</p>
</blockquote>
</li>
<li>配置主题，同样的我把我的配置文件拿上来给参考一下<a href="http://kangqingfei.qiniudn.com/blog%2Fcodes%2Fconfigs%2Fyilia_config.yml" target="_blank" rel="external">yilia_config.yml</a> ，要配置的东西有，自己的社交信息，<code>google_analytics</code>的ID,多少评论的ID。</li>
<li>写文章了，在之前先讲下他的原理，我们可以通过<code>hexo new &quot;Hello Hexo&quot;</code>生成一个新的文章。这个文章会默认使用<code>scaffolds</code>下的模板（layout），然后把生成的markdown放到<code>source/_posts</code>下。同理你可以猜到，<code>hexo new(hexo n) page &quot;xxx&quot;</code>会把生成的markdown放到<code>source</code>下面，<code>hexo new draft &quot;xxx&quot;</code>会放到<code>source/_draft</code>下面（鸡肋的草稿没啥用，其实post不deploy就是draft了啊）。并且我们可以自己定义layout并放到<code>scaffolds</code>下面，通过<code>hexo new layoutname &quot;xxxxx&quot;</code>生成一篇基于自己定义的layout的文章，他会将我们自己模板生成的markdown同样放到<code>source/_posts</code>下。这样就允许我们自己把一些常用的标签放到里面了，我自己定义了一个article的layout，里面有我常用的一些东西，发给大家参考一下<a href="http://kangqingfei.qiniudn.com/blog%2Fcodes%2Fconfigs%2Fhexo_article_layout.mmd" target="_blank" rel="external">hexo_article_layout.mmd</a>（由于<strong>这里不能放md文件否则生成会报错</strong>，所以只好改成mmd）。这里主要搞清楚几个用法<blockquote>
<ol>
<li>设置categories，和tags的方法。</li>
<li>include_code 的路径是相对配置中的code_dir而言的，不要搞错了。</li>
<li>七牛云的图片的路径也是相对于你填的那个前缀而言的。</li>
<li>七牛云的图片处理问题：这个问题主要去<a href="http://developer.qiniu.com/docs/v6/api/reference/fop/image/" target="_blank" rel="external">七牛</a>看看,就是大小和水印的问题</li>
</ol>
</blockquote>
</li>
<li>发布，我们的markdown可以通过<code>hexo generate(hexo g)</code>来生成静态页面即发布时的文件（至于public文件夹下）,通过<code>hexo clean</code>来清除，通过<code>hexo deploy(hexo d )</code>发布到指定的仓库。</li>
</ol>
<p>####接下来看看效果了。<br><a href="http://kangqingfei.cn" title="go to kblog">kblog</a></p>
<p><a href="mailto:kangqingfei@gmail.com" title="Email" target="_blank" rel="external">Write to me</a></p>
<figure class="highlight c"><figcaption><span>test.c</span><a href="/assest/codes/test.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test load code file</span><br></pre></td></tr></table></figure>
<figure class="highlight"><figcaption><span>yilia_config.ym</span><a href="http://kangqingfei.qiniudn.com/blog%2Fcodes%2Fconfigs%2Fyilia_config.yml" target="_blank" rel="external">源文件</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code snippet</span><br></pre></td></tr></table></figure>
<img src="/assest/images/test.png" class="class names" width="32" height="32" title="图 图片">
<p><img src="/assest/images/test.png" alt="图片"></p>
<div class="row">
  <iframe src="http://nagland.github.io/viewer/web/viewer.html?val=http://kangqingfei.qiniudn.com/blog%2Fpdf%2Ftest.pdf" style="width:100%; height:550px"> 
  </iframe>
</div>
<img title="test" alt="来自七牛云的图片" class="class1" src="http://kangqingfei.qiniudn.com/blog/images/test.png?imageView2/0/w/1000/h/1000/watermark/2/text/wqlrYW5ncWluZ2ZlaQ==/font/5a6L5L2T/fontsize/1000/fill/IzBCMDEwMQ==/dissolve/85/gravity/SouthEast/dx/20/dy/20">
<img attr1="value1" attr2="value2" attr3="value31" [extend="?imageView2/2/w/600" src="http://kangqingfei.qiniudn.com/blog/images/test.png">
]]></content>
    <summary type="html">
    <![CDATA[<h4 id="u4E0A_u9762_u5199_u4E86_u4E00_u7BC7_u6587_u7AE0_uFF0C_u611F_u89C9_u771F_u662F_u4E11_u7206_u4E86_uFF0C_u5185_u5BB9_u81ED_uFF0C_u754C_]]>
    </summary>
    
      <category term="hexo" scheme="http://kangqingfei.cn/tags/hexo/"/>
    
      <category term="install" scheme="http://kangqingfei.cn/tags/install/"/>
    
      <category term="tips" scheme="http://kangqingfei.cn/categories/tips/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Install ArchLinux to USB media or Virtual Machine]]></title>
    <link href="http://kangqingfei.cn/2015/12/29/install-archlinux-to-usb-media-or-virtual-machine/"/>
    <id>http://kangqingfei.cn/2015/12/29/install-archlinux-to-usb-media-or-virtual-machine/</id>
    <published>2015-12-29T00:00:00.000Z</published>
    <updated>2015-12-29T13:24:19.000Z</updated>
    <content type="html"><![CDATA[<p>======================</p>
<h1 id="23_u662F_u7684_uFF0C_u8003_u5B8C_u4E86_uFF0C_u8003_u5B8C_u4E86_uFF0C_u8003_u5B8C_u4E86_uFF01"><a href="#23_u662F_u7684_uFF0C_u8003_u5B8C_u4E86_uFF0C_u8003_u5B8C_u4E86_uFF0C_u8003_u5B8C_u4E86_uFF01" class="headerlink" title="#是的，考完了，考完了，考完了！"></a>#是的，考完了，考完了，考完了！</h1><p>=======</p>
<p>###那就来装个系统吧。</p>
<ol>
<li>打开VMware，新建一个虚拟机，使用<code>archlinux-2015.12.01-dual.iso</code>(连上教育网去北交的镜像站下载)，作为启动安装盘，新建一个10G的硬盘</li>
<li><code>fdisk -l</code>  <code>fdisk /dev/sda</code> 新建一个100M分区，剩下再建一个分区。</li>
<li>格式化  <code>mkfs.ext4 /dev/sda1</code>   <code>mkfs.ext4 /dev/sda2</code></li>
<li>挂载  <code>mount /dev/sda1 /boot</code>   <code>mount /dev/sda2 /mnt</code></li>
<li>编辑源 <code>vi /etc/pacman.d/mirrorlist</code>   <code>467 dd</code> 删除前面的把最后一行改成北京交通大学的源 <code>Server = http://mirror.bjtu.edu.cn/archlinux/$repo/os/$arch</code></li>
<li>安装基本的系统 <code>gacstrap -i /mnt base base-devel vim</code></li>
<li>生成挂载信息 <code>genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab</code></li>
<li>chroot 到新系统 <code>arch-chroot /mnt</code></li>
<li>写入主机名 <code>echo xxx &gt; /etc/hostname</code></li>
<li>生成文字编码 <code>vim /etc/locale.gen</code> 将<code>zh_CN</code>打头的 以及 <code>en_US.UTF8 UTF8</code> 取消注释 运行<code>locale-gen</code></li>
<li>如果要安装到<strong><em>usb</em></strong>移动介质 就将<code>/etc/mkinitcpio.conf</code>里面的<code>HOOKS</code>加上 <code>block</code> 然后 <code>mkinitcpio -p linux</code></li>
<li>然后设置密码 <code>passwd</code></li>
<li><p>安装 <code>syslinux</code> 生成引导 <code>syslinux-install_update -iam</code><br><br>如果是usb介质 就还要将 <code>/boot/syslinux/syslinux.cfg</code> 里面的<code>arch archfallback</code> 的<code>APPEND</code> 中的<code>sdx</code><br><br>改成 <code>root=UUID=xxxx rw</code> 因为这样才能找到U盘 xxxx是U盘的<strong><em>/mnt所在分区的UUID</em></strong></p>
</li>
<li><p>安装一些必要的工具 <code>net-tools git zsh i3 xorg-server xorg-server-utils xorg-xinit xterm</code></p>
</li>
</ol>
<h3 id="u5728_u865A_u62DF_u673A_u91CC_u9762_u88C5_u6CA1_u6539syslinux-cfg_u53D1_u73B0_u8FD8_u662F_u9519_u4E86__u627E_u4E0D_u5230/dev/sda3__u53C8_u662F_u5728_u865A_u62DF_u673A_u4E0A_u5B89_u88C5_u7684__u600E_u4E48_u529E"><a href="#u5728_u865A_u62DF_u673A_u91CC_u9762_u88C5_u6CA1_u6539syslinux-cfg_u53D1_u73B0_u8FD8_u662F_u9519_u4E86__u627E_u4E0D_u5230/dev/sda3__u53C8_u662F_u5728_u865A_u62DF_u673A_u4E0A_u5B89_u88C5_u7684__u600E_u4E48_u529E" class="headerlink" title="在虚拟机里面装没改syslinux.cfg发现还是错了 找不到/dev/sda3 又是在虚拟机上安装的 怎么办"></a>在虚拟机里面装没改<code>syslinux.cfg</code>发现还是错了 找不到<code>/dev/sda3</code> 又是在虚拟机上安装的 怎么办</h3><ol>
<li>开机按<code>F2</code>然后将光盘的启动优先级放到最高 然后再次进到live里面</li>
<li>按照之前的方法挂载 然后 <code>arch-chroot /mnt</code> 然后就把 <code>/sda3</code> 改成 <code>/sda2</code> 就ok<h3 id="u628A_u542F_u52A8_u9879_u6539_u56DE_u6765__u542F_u52A8_dhcpd__u83B7_u53D6_ip__u7136_u540E_startx__u7ADF_u7136_u6CA1_u8D77_u6765__u65E0_u5948_pacman_-S_xorg__u7136_u540E_u56DE_u8F66_u5168_u9009__u786E_u5B9A_u5B89_u88C5"><a href="#u628A_u542F_u52A8_u9879_u6539_u56DE_u6765__u542F_u52A8_dhcpd__u83B7_u53D6_ip__u7136_u540E_startx__u7ADF_u7136_u6CA1_u8D77_u6765__u65E0_u5948_pacman_-S_xorg__u7136_u540E_u56DE_u8F66_u5168_u9009__u786E_u5B9A_u5B89_u88C5" class="headerlink" title="把启动项改回来 启动 dhcpd 获取 ip  然后 startx 竟然没起来  无奈 pacman -S xorg 然后回车全选 确定安装"></a>把启动项改回来 启动 <code>dhcpd</code> 获取 ip  然后 <code>startx</code> 竟然没起来  无奈 <code>pacman -S xorg</code> 然后回车全选 确定安装</h3>####然后 还没起来 怒了 直接 <code>vim .xinitrc</code> 写入 <code>exec i3</code> 再<code>startx</code>就把i3 跑起来了</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<p>======================</p>
<h1 id="23_u662F_u7684_uFF0C_u8003_u5B8C_u4E86_uFF0C_u8003_u5B8C_u4E86_uFF0C_u8003_u5B8C_u4E86_uFF01"><a href=]]>
    </summary>
    
      <category term="archlinux" scheme="http://kangqingfei.cn/tags/archlinux/"/>
    
      <category term="media" scheme="http://kangqingfei.cn/tags/media/"/>
    
      <category term="virtualmachine" scheme="http://kangqingfei.cn/tags/virtualmachine/"/>
    
      <category term="tips" scheme="http://kangqingfei.cn/categories/tips/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[DigitalOcean VPS转移机房]]></title>
    <link href="http://kangqingfei.cn/2015/08/27/digitalocean-vps/"/>
    <id>http://kangqingfei.cn/2015/08/27/digitalocean-vps/</id>
    <published>2015-08-27T00:00:00.000Z</published>
    <updated>2015-12-29T17:00:17.000Z</updated>
    <content type="html"><![CDATA[<p>===================<br>今天又是折腾自己的VPS，发现以前只是把它关机了还是会收费的，，，真是脑残，应该把droplets删了才会停止收费！<br>所以很无语地发现自己的ss好慢啊，自从某博士的科学上网服务停止后，看视频都没劲了，果断给VPS换地方。在官网的测速网站<br><a href="http://speedtest-ams1.digitalocean.com/" target="_blank" rel="external">http://speedtest-ams1.digitalocean.com/</a>上测完后发现AMS1的速度快得达到满速，<br>可惜的是那个地方不提供创建droplets了，而AWS2的速度只有1M左右其他都不理想，不过SGP1的速度貌似有6、7M但是听说不稳定<br>管他呢，总比开始的NYC3好吧。所以先关机创建snapshot然后把它发到新加坡机房，貌似有点久半小时左右。然后创建新的droplets选择刚发过去的快照<br>最后拿到root密码改过密码后感觉贼快了，比开始的一卡一卡的好多了，至少ssh不会卡顿，恩还是很好地说。</p>
<p>##问题来了</p>
<p>转过来后发现自己网站的头像图片挂了其他的却正常，一想自己的头像图片是存在mongo里面的其他就没有，可能是mongo的问题<br>仔细一查果然 node 起不来了 mongo 也有问题了，其中mongo报错  </p>
<pre><code>Error: couldn&apos;t connect to server 127.0.0.1:27017 (127.0.0.1),
connection attempt failed at src/mongo/shell/mongo.js:146
exception: connect failed
</code></pre><p>Node 报错：</p>
<pre><code>Running &quot;connect:server&quot; (connect) task
Waiting forever...
Fatal error: listen EADDRNOTAVAIL
</code></pre><p>然后各种查一开始以为是两个东西的问题，就把啥锁也清了，也修复了。<br>后面发现远程能进入mongo，本地却不行，觉得特别地奇葩，然后搜到可能是hosts的原因，可以cat /etc/hosts 发现有<br>127.0.0.1解析到localhost啊，，，怎么办呢。我就ping 127.0.0.1 发现 unreachable ，在一搜 发现可能是<br>hosts ,lo ,firewall ,icmp_echo_ignore出了问题。果然 ifconfig 发现没有 lo，，，，，，顿时晕了。。<br>所以，ifconfig lo up 后<strong>整个世界都亮了</strong>。PS：本人的vps会开一段时间，恩，<code>需要ss</code>的可以微博或邮件联系我</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>===================<br>今天又是折腾自己的VPS，发现以前只是把它关机了还是会收费的，，，真是脑残，应该把droplets删了才会停止收费！<br>所以很无语地发现自己的ss好慢啊，自从某博士的科学上网服务停止后，看视频都没劲了，果断给VPS换地方。在]]>
    </summary>
    
      <category term="grunt" scheme="http://kangqingfei.cn/tags/grunt/"/>
    
      <category term="mongo" scheme="http://kangqingfei.cn/tags/mongo/"/>
    
      <category term="node" scheme="http://kangqingfei.cn/tags/node/"/>
    
      <category term="tips" scheme="http://kangqingfei.cn/categories/tips/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[using jekyll gracefully]]></title>
    <link href="http://kangqingfei.cn/2015/08/26/using-jekyll-gracefully/"/>
    <id>http://kangqingfei.cn/2015/08/26/using-jekyll-gracefully/</id>
    <published>2015-08-26T00:00:00.000Z</published>
    <updated>2015-12-29T16:59:28.000Z</updated>
    <content type="html"><![CDATA[<h2 id="u4E3A_u5565_u53C8_u6298_u817E_u8FD9_u8D27_uFF1F"><a href="#u4E3A_u5565_u53C8_u6298_u817E_u8FD9_u8D27_uFF1F" class="headerlink" title="为啥又折腾这货？"></a>为啥又折腾这货？</h2><ol>
<li>在家，看不进书，有时间没事干，所以。。。。。。</li>
<li>鉴于各种社交平台的太那啥，想拥有自己的一个小港湾（好扯淡）</li>
<li>要<code>认真</code>考研了，说不定哪天就发神经想写点啥煽情的东西了</li>
<li>觉得很多东西还是得记录一下，就像寒假把这货搞得那么透而现在啥都忘了，毕竟好记性不如烂笔头！</li>
<li>嗯，好像可以装那啥对吧。。。。。 未完待续</li>
</ol>
<h2 id="u4ECE_u5934_u5F00_u59CB_u8BF4_u8D77"><a href="#u4ECE_u5934_u5F00_u59CB_u8BF4_u8D77" class="headerlink" title="从头开始说起"></a>从头开始说起</h2><ol>
<li>首先有个github的账号，然后最好有个域名，然后创建一个<code>username.github.io</code>的<code>repositories</code>添加<code>CNAME</code>文件（里面填上自己的域名即可）让github原生的域名重定向到自己的域名。接下来配置自己域名解析到自己博客托管在github上的服务器，在自己的域名支持<code>CNAME</code>的情况下你可以直接将<code>CNAME</code>配置为<code>username.github.io</code>。像我这种穷人的域名并不支持的情况下，就用<code>nslookup</code>查到自己项目的ip，然后解析到这个ip（事实上github会给每个要求的项目分配一个ip而且这货还不变，真是爽），这些就不多说了</li>
<li>拥有一个框架，像我用的 JekyllBootstrap 类似的，要想在本地折腾一下要装上<code>ruby ruby-dev jekyll rdiscount</code>然后win下的话要设置好环境变量等。</li>
<li>这样就可以在本地起一个服务器了，切换到项目的根目录：<blockquote>
<ul>
<li>开启服务器 <code>jekyll serve</code> 或 <code>rake preview</code> 这会默认在4000端口起服务器</li>
<li>添加一篇文章  <code>rake post title=&quot;Hello World&quot;</code>或<code>rake page name=&quot;pages/about.md&quot;（不加.md默认生成.html）</code> post 和 page 区别在于layout的不同</li>
<li>安装themes <code>rake theme:install git=&quot;https://github.com/jekyllbootstrap/theme-the-program.git&quot;</code>或<code>rake theme:install name=&quot;THEME-NAME&quot;</code>默认会将安装到<code>./assets/themes/THEME-NAME</code></li>
<li>切换主题 <code>rake theme:switch name=&quot;the-program&quot;</code></li>
<li>自定义主题 你应该修改<code>./_includes/themes/THEME-NAME</code>下的内容而不是<code>_layouts</code>目录下的文件，因为切换主题的时候会把<code>_layouts</code>目录下的文件覆盖掉。而对于样式文件应该放在<code>./assets/themes/THEME-NAME</code>目录下，并可以使用<code>ASSET_PATH</code>变量来引用这些静态的样式。</li>
<li>发布主题 <code>rake theme:package name=&quot;THEME-NAME&quot;</code>将主题打包，然后可以发布</li>
<li>懒人方法 我喜欢使用Atom来写东西，因为有一个叫jekyll的插件还是很好用的</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="u76EE_u5F55"><a href="#u76EE_u5F55" class="headerlink" title="目录"></a>目录</h2><pre><code>.
|-- _data                             _data:保存数据的。jekyll会自动加载这里的所有.jml或者.yaml结尾的文件。
                                      比如你有一个members.yml,那么你可以通过site.data.members访问该文件里的数据。
|-- _drafts
    `-- jekyll-introduction-draft.md  草稿，格式是:没有日期.md 通过 jekyll serve --drafts预览 jekyll build --drafts编译
|-- _includes                         包含一些模板，可以重复利用。这种方式是liquid语法
    |-- JB                            JekyllBootstrap库文件
    `-- themes                        主题模板配置目录
|-- _layouts                          模板文件链接到主题配置中，里面的文件通过 `content` 包含_posts里面的文章
    |-- default.html
    |-- page.html
    `-- post.html
|-- _posts                            存放你要发表的文章。格式YEAR-MONTH-DAY-title.MARKUP
    |-- xxx.markdown
    `-- xxxxxx.markdown
|-- _site                             编译后生成的文件
|-- _theme_packages                   安装或打包主题时的临时目录
|-- assets
    |-- themes
        |-- THEME_NAME                主题的临时文件
|-- index.html                        首页
|-- about.html                        导航栏
|-- archive.html                      导航栏
|-- categories.html                   导航栏
|-- 404.html                          404页面
|-- tags.html                         导航栏
|-- atom.xml                          订阅文件
|-- rss.xml                           订阅文件
|-- _config.yml                       存储配置数据。把配置写在这个文件里面，可以让你不用在命令行中写。
|-- sitemap.txt
|-- CNAME                             域名配置文件
`-- Rakefile
</code></pre><h2 id="u53D8_u91CF"><a href="#u53D8_u91CF" class="headerlink" title="变量"></a>变量</h2><ol>
<li>site变量<blockquote>
<ul>
<li>site.time:当前运行jekyll的时间</li>
<li>site.pages:所有的页面</li>
<li>site.posts:以时间逆序排序的所有的文章</li>
<li>site.data：包含从目录_data里面加载的数据列表</li>
</ul>
</blockquote>
</li>
<li>page变量<blockquote>
<ul>
<li>page.content:页面内容</li>
<li>page.title:文章标题</li>
<li>page.urL:页面地址</li>
<li>page.date:页面的日期。可以在front matter重写：2008-12-14 10:30:00 +0900或者YYYY-MM-DD HH:MM:SS</li>
<li>page.id:页面id。 在RSS feeds里面有用。</li>
</ul>
</blockquote>
</li>
<li>Paginator变量<blockquote>
<ul>
<li>paginator.per_page：每一页的文章数</li>
<li>paginator.posts：那一页可用的文章</li>
<li>paginator.page：当前页的值</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="u914D_u7F6E"><a href="#u914D_u7F6E" class="headerlink" title="配置"></a>配置</h2><h3 id="u4E3B_u8981_u662F__config-yml__u91CC_u9762_u7684_u4E1C_u897F_uFF0C_u4E00_u770B_u5C31_u61C2_uFF01_uFF01_uFF01"><a href="#u4E3B_u8981_u662F__config-yml__u91CC_u9762_u7684_u4E1C_u897F_uFF0C_u4E00_u770B_u5C31_u61C2_uFF01_uFF01_uFF01" class="headerlink" title="主要是 _config.yml 里面的东西，一看就懂！！！"></a>主要是 _config.yml 里面的东西，一看就懂！！！</h3><p>============<br><a href="http://blog.csdn.net/maoxunxing/article/details/40479753" target="_blank" rel="external">参考文章</a></p>
]]></content>
    <summary type="html">
    <![CDATA[using jekyll gracefully]]>
    
    </summary>
    
      <category term="jekyll" scheme="http://kangqingfei.cn/tags/jekyll/"/>
    
      <category term="tools" scheme="http://kangqingfei.cn/categories/tools/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Bootstrap FileInput]]></title>
    <link href="http://kangqingfei.cn/2015/02/25/bootstrap-fileinput/"/>
    <id>http://kangqingfei.cn/2015/02/25/bootstrap-fileinput/</id>
    <published>2015-02-24T16:00:00.000Z</published>
    <updated>2015-12-29T17:00:00.000Z</updated>
    <content type="html"><![CDATA[<h1 id="bootstrap-fileinput"><a href="#bootstrap-fileinput" class="headerlink" title="bootstrap-fileinput"></a><a href="http://plugins.krajee.com/file-input" target="_blank" rel="external">bootstrap-fileinput</a></h1><p>这是一个基于<code>Bootstrap3.x</code>的加强版的文件选取插件，支持各种文件的预览功能，多选等。这个插件允许你设置一个高大上的文件选取/上传器通过使用<code>Bootstrap CSS3</code>样式。通过提供各种文件（包括images, text, html, video, audio, flash）的预览支持进一步地加强了文件选择器的功能。另外还支持AJAX上传，拖拽上传，上传进度可视，添加移除文件等</p>
<p>这个插件最初是由<a href="http://www.abeautifulsite.net/blog/2013/08/whipping-file-inputs-into-shape-with-bootstrap-3/" target="_blank" rel="external">这个博客</a>和<a href="http://jasny.github.io/bootstrap/javascript/#fileinput" target="_blank" rel="external"> Jasny的文件选择插件</a>启发 ，但是现在通过各种新加的特性使得这个插件相比以前更加成熟，使得这个插件已经成为web开发者的全面的文件管理工具。</p>
<p>伴随着<code>v4.0.0</code>版本的发布，这个插件已经支持AJAX上传—持基于大多浏览器支持的<code>HTML5 FormData</code>和<code>XHR2</code>协议。并且还内置支持以AJAX方式删除服务器端的文件。这就拥有了一个能够快速的删除、添加和移除文件的特性。这个插件还支持拖拽形式的AJAX文件上传。对于浏览器不支持<code>HTML5 FormData</code>和<code>XHR2</code>的情况，会自动使用普通的表单提交方式。</p>
<p>###文件选取特性</p>
<ol>
<li><p>这个插件将一个普通的 HTML文件选取变成一个高级的文件选取器，但是对于那些不支持<code>JQuery</code>h和<code>Javascript</code>的浏览器，将使用原生的HTML文件选取。</p>
</li>
<li><p>这个文件选择器由以下三个部分组成，可以通过选项和模板来控制器各部分的显示：</p>
<blockquote>
<ul>
<li>文件说明部分：显示已选文件的简短信息。</li>
<li>文件操作按钮：用于选取、移除上传文件。</li>
<li>文件预览部分：显示已选文件的预览（支持 image, text, flash, and video等文件格式）。</li>
</ul>
</blockquote>
</li>
<li><p>这个插件自动转换的输入<code>type = file</code>为一个高级的文件选择器，如果你设置它的<code>class = file</code>。所有的选项可以使用HTML5数据属性。</p>
</li>
<li><p>选择并预览多个文件的能力。使用HTML 5的文件阅读器API（<code>HTML 5 File reader API</code>）来读取和预览文件。显示文件被加载到预览区，如果选取了多个文件。</p>
</li>
<li><p>提供了预定义的模板和CSS类都可以按需求改变你的文件输入显示风格。</p>
</li>
<li><p>现在你可以配置插件显示初始的 预览图片/文件初始标题 (更有用更新场景)。参考<code>initialPreview</code>和<code>initialCaption</code>属性配置的插件选项部分。</p>
</li>
<li><p>可以显示/隐藏的部分如下:</p>
<blockquote>
<ul>
<li>文件说明信息部分。</li>
<li>预览部分。</li>
<li>上传按钮。</li>
<li>移除按钮。</li>
</ul>
</blockquote>
</li>
<li><p>定制目标容器元素的位置来显示整个插件，容器的标题、标题文本、预览容器、预览图像和预览状态。</p>
</li>
<li><p>对于文本文件预览,自动调整文本缩略图的宽度,并在悬停时显示一个完整的文本链接。你可以自定义新窗口预览文件的标记(默认为…)。</p>
</li>
<li><p>自定义预览、进度、已选文件的信息。</p>
</li>
<li><p>上传操作默认表单提交。支持上传 路由/服务器 action 参数定制的基于ajax的上传。</p>
</li>
<li><p>触发JQuery事件用于高级的开发。目前可用的事件有<code>filereset、fileclear、filecleared fileloaded、fileerror</code>。</p>
</li>
<li><p>支持只读文件选取器。</p>
</li>
<li><p>对于超过容器宽度的长文件名的情况，自动调整文件标题的显示长度。</p>
</li>
<li><p>新的<code>fileimageuploaded</code>支持，当文件完全加载进预览容器时触发。</p>
</li>
<li><p>自动调整超出预览容器大小的图片的大小。</p>
</li>
<li><p>完全的模板化和可扩展的,允许配置文件选择器为开发人员想要的。</p>
</li>
<li><p>可以通过<code>allowedPreviewTypes</code>配置可以预览文件的类型。</p>
</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="bootstrap-fileinput"><a href="#bootstrap-fileinput" class="headerlink" title="bootstrap-fileinput"></a><a href="http://plugins.kraje]]>
    </summary>
    
      <category term="BootStrap" scheme="http://kangqingfei.cn/tags/BootStrap/"/>
    
      <category term="HTML5" scheme="http://kangqingfei.cn/tags/HTML5/"/>
    
      <category term="XHR2" scheme="http://kangqingfei.cn/tags/XHR2/"/>
    
      <category term="web" scheme="http://kangqingfei.cn/categories/web/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[first article]]></title>
    <link href="http://kangqingfei.cn/2015/02/09/first-article/"/>
    <id>http://kangqingfei.cn/2015/02/09/first-article/</id>
    <published>2015-02-08T16:00:00.000Z</published>
    <updated>2015-12-29T17:00:34.000Z</updated>
    <content type="html"><![CDATA[<h1 id="u535A_u5BA2_u642D_u5EFA_u6210_u529F_in_20150310"><a href="#u535A_u5BA2_u642D_u5EFA_u6210_u529F_in_20150310" class="headerlink" title="博客搭建成功 in 20150310"></a>博客搭建成功 in 20150310</h1>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="u535A_u5BA2_u642D_u5EFA_u6210_u529F_in_20150310"><a href="#u535A_u5BA2_u642D_u5EFA_u6210_u529F_in_20150310" class="headerlink" title]]>
    </summary>
    
      <category term="test" scheme="http://kangqingfei.cn/tags/test/"/>
    
      <category term="test" scheme="http://kangqingfei.cn/categories/test/"/>
    
  </entry>
  
</feed>
